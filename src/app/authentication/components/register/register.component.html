<div class="flex min-h-screen items-center justify-center">
    <mat-card class="p-4">
        <mat-card-header>
            <div class="pb-2">
                <mat-card-title class="blue-text-color">Register</mat-card-title>
            </div>
        </mat-card-header>
        <mat-card-content>
            <form [formGroup]="form" (ngSubmit)="onSubmit()" class="flex flex-col gap-1 pb-4">
                <mat-form-field appearance="outline" [hideRequiredMarker]="true">
                    <input [type]="'text'" matInput [formControl]="username" placeholder="Username" autocomplete="nickname"/>
                    <mat-icon matSuffix>person</mat-icon>
                    @if (username.hasError('minlength')) {
                        <mat-error>Must be at least 3 characters</mat-error>
                    }
                    @else if (username.hasError('maxlength')) {
                        <mat-error>Must be max 30 characters</mat-error>
                    }
                    @else if (username.hasError("pattern")) {
                        <mat-error>Can't contain special characters</mat-error>
                    }
                    @else if (username.hasError('required')) {   
                        <mat-error>Username is required</mat-error>   
                    }
                </mat-form-field>
                <mat-form-field appearance="outline" [hideRequiredMarker]="true">
                    <input [type]="'email'" matInput [formControl]="email" placeholder="Email" autocomplete="email"/>
                    <mat-icon matSuffix>email</mat-icon>
                    @if (email.hasError('email')) {
                        <mat-error>Enter a valid email address</mat-error>
                    }
                    @else if (email.hasError('required')) {   
                        <mat-error>Email is required</mat-error>   
                    }
                </mat-form-field>
                <mat-form-field appearance="outline" [hideRequiredMarker]="true">
                    <input matInput [type]="hide() ? 'password' : 'text'" [formControl]="password" placeholder="Password" autocomplete="current-password"/>
                    <button type="button" mat-icon-button matSuffix (click)="clickEvent($event)" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide()">
                        <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    @if (password.hasError('required')) {
                        <mat-error>Password is required</mat-error>
                    }
                    @else if (password.hasError('minlength')) {
                        <mat-error>Must be at least 10 characters</mat-error>
                    }
                    @else if (password.hasError('maxlength')) {
                        <mat-error>Must be max 30 characters</mat-error>
                    }
                </mat-form-field>
                <mat-form-field appearance="outline" [hideRequiredMarker]="true">
                    <input matInput [type]="hide() ? 'password' : 'text'" [formControl]="confirmPassword" placeholder="Confirm Password" autocomplete="current-password"/>
                    <button type="button" mat-icon-button matSuffix (click)="clickEvent($event)" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide()">
                        <mat-icon>{{hide() ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                    @if (confirmPassword.hasError('required')) {
                        <mat-error>Confirm password is required</mat-error>
                    }
                    @else if (confirmPassword.hasError('minlength')) {
                        <mat-error>Must be at least 10 characters</mat-error>
                    }
                    @else if (confirmPassword.hasError('maxlength')) {
                        <mat-error>Must be max 30 characters</mat-error>
                    }
                </mat-form-field>
                <button type="submit" [disabled]="!form.valid" mat-raised-button color="primary">Register</button>
            </form>
        </mat-card-content>
        <a [routerLink]="['/login']" class="p-2 hover:underline text-center text-sm hover:text-slate-400">Already have have an account ?</a>
    </mat-card>
</div>